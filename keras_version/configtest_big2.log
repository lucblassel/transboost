2018-02-23 20:10:44.556327: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2018-02-23 20:10:45.117827: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2018-02-23 20:10:45.118222: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:00:04.0
totalMemory: 11.17GiB freeMemory: 11.09GiB
2018-02-23 20:10:45.118251: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:00:04.0, compute capability: 3.7)
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Using TensorFlow backend.
########################################################################################################################################################################################################
TRANSBOOST LAUNCH on 2018-02-23 20:10
########################################################################################################################################################################################################
Data has apparently already been downloaded and unpacked.
data_batch_1
data_batch_2
data_batch_3
data_batch_4
data_batch_5
test_batch



executed with the following settings:

batch_size_target :  10
classes_target :  ['deer', 'horse']
lr_source :  0.0001
epochs_target :  100
epochs_source :  100
recompute_transfer_values :  False
step :  10
classes_source :  ['dog', 'truck']
layerLimit :  15
times :  10
resizeFactor :  5
batch_size_source :  10
bigNet :  True
reinitialize_bottom_layers :  False
threshold :  0.55
models_weights_path :  models_weights
proba_threshold :  0.5
train_top_model :  False
path_to_best_model :  best_top_model.hdf5
models_path :  models
transformation_ratio :  0.05
lr_target :  0.0001
originalSize :  32




directory models exists already.
directory models_weights exists already.
Found 7953 images belonging to 2 classes.
Found 2047 images belonging to 2 classes.
Found 2047 images belonging to 2 classes.
Found 8026 images belonging to 2 classes.
Found 1974 images belonging to 2 classes.
Found 1974 images belonging to 2 classes.
reinitializing layer block1_conv1.kernel
reinitializing layer block1_conv1_bn.moving_variance
reinitializing layer block1_conv1_bn.moving_mean
reinitializing layer block1_conv1_bn.beta
reinitializing layer block1_conv1_bn.gamma
reinitializing layer block1_conv2.kernel
reinitializing layer block1_conv2_bn.moving_variance
reinitializing layer block1_conv2_bn.moving_mean
reinitializing layer block1_conv2_bn.beta
reinitializing layer block1_conv2_bn.gamma
reinitializing layer block2_sepconv1.depthwise_kernel
reinitializing layer block2_sepconv1.pointwise_kernel
reinitializing layer block2_sepconv1_bn.moving_variance
reinitializing layer block2_sepconv1_bn.moving_mean
reinitializing layer block2_sepconv1_bn.beta
reinitializing layer block2_sepconv1_bn.gamma
reinitializing layer block2_sepconv2.depthwise_kernel
reinitializing layer block2_sepconv2.pointwise_kernel
reinitializing layer block2_sepconv2_bn.moving_variance
reinitializing layer block2_sepconv2_bn.moving_mean
reinitializing layer block2_sepconv2_bn.beta
reinitializing layer block2_sepconv2_bn.gamma
reinitializing layer conv2d_1.kernel
reinitializing layer batch_normalization_1.moving_variance
reinitializing layer batch_normalization_1.moving_mean
reinitializing layer batch_normalization_1.beta
reinitializing layer batch_normalization_1.gamma
Traceback (most recent call last):
  File "boosting.py", line 673, in <module>
    main()
  File "boosting.py", line 662, in main
    model_list, _ , alpha_list, model_returned = batchBooster(full_model,x_train_target,y_train_target,x_val_target,y_val_target,x_test_target,y_test_target,params,**params)
  File "boosting.py", line 525, in batchBooster
    current_model = first_layers_reinitializer(current_model, layerLimit)
  File "boosting.py", line 289, in first_layers_reinitializer
    for layer in model.layers[:layerLimit]:
AttributeError: 'NoneType' object has no attribute 'layers'
2018-02-23 20:12:21.158397: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2018-02-23 20:12:21.254694: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2018-02-23 20:12:21.255020: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:00:04.0
totalMemory: 11.17GiB freeMemory: 11.09GiB
2018-02-23 20:12:21.255043: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:00:04.0, compute capability: 3.7)
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Using TensorFlow backend.
########################################################################################################################################################################################################
TRANSBOOST LAUNCH on 2018-02-23 20:11
########################################################################################################################################################################################################
Data has apparently already been downloaded and unpacked.
data_batch_1
data_batch_2
data_batch_3
data_batch_4
data_batch_5
test_batch



executed with the following settings:

recompute_transfer_values :  False
batch_size_source :  10
path_to_best_model :  best_top_model.hdf5
layerLimit :  15
epochs_source :  100
threshold :  0.6
times :  10
originalSize :  32
models_weights_path :  models_weights
lr_target :  0.0001
train_top_model :  False
resizeFactor :  5
lr_source :  0.0001
reinitialize_bottom_layers :  False
epochs_target :  100
step :  10
models_path :  models
proba_threshold :  0.5
classes_source :  ['dog', 'truck']
classes_target :  ['deer', 'horse']
bigNet :  True
transformation_ratio :  0.05
batch_size_target :  10




directory models exists already.
directory models_weights exists already.
Found 7953 images belonging to 2 classes.
Found 2047 images belonging to 2 classes.
Found 2047 images belonging to 2 classes.
Found 8026 images belonging to 2 classes.
Found 1974 images belonging to 2 classes.
Found 1974 images belonging to 2 classes.
reinitializing layer block1_conv1.kernel
reinitializing layer block1_conv1_bn.beta
reinitializing layer block1_conv1_bn.gamma
reinitializing layer block1_conv1_bn.moving_variance
reinitializing layer block1_conv1_bn.moving_mean
reinitializing layer block1_conv2.kernel
reinitializing layer block1_conv2_bn.beta
reinitializing layer block1_conv2_bn.gamma
reinitializing layer block1_conv2_bn.moving_variance
reinitializing layer block1_conv2_bn.moving_mean
reinitializing layer block2_sepconv1.pointwise_kernel
reinitializing layer block2_sepconv1.depthwise_kernel
reinitializing layer block2_sepconv1_bn.beta
reinitializing layer block2_sepconv1_bn.gamma
reinitializing layer block2_sepconv1_bn.moving_variance
reinitializing layer block2_sepconv1_bn.moving_mean
reinitializing layer block2_sepconv2.pointwise_kernel
reinitializing layer block2_sepconv2.depthwise_kernel
reinitializing layer block2_sepconv2_bn.beta
reinitializing layer block2_sepconv2_bn.gamma
reinitializing layer block2_sepconv2_bn.moving_variance
reinitializing layer block2_sepconv2_bn.moving_mean
reinitializing layer conv2d_1.kernel
reinitializing layer batch_normalization_1.beta
reinitializing layer batch_normalization_1.gamma
reinitializing layer batch_normalization_1.moving_variance
reinitializing layer batch_normalization_1.moving_mean
Traceback (most recent call last):
  File "boosting.py", line 673, in <module>
    main()
  File "boosting.py", line 662, in main
    model_list, _ , alpha_list, model_returned = batchBooster(full_model,x_train_target,y_train_target,x_val_target,y_val_target,x_test_target,y_test_target,params,**params)
  File "boosting.py", line 525, in batchBooster
    current_model = first_layers_reinitializer(current_model, layerLimit)
  File "boosting.py", line 289, in first_layers_reinitializer
    for layer in model.layers[:layerLimit]:
AttributeError: 'NoneType' object has no attribute 'layers'
2018-02-23 20:13:27.273033: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2018-02-23 20:13:27.371264: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2018-02-23 20:13:27.371592: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:00:04.0
totalMemory: 11.17GiB freeMemory: 11.09GiB
2018-02-23 20:13:27.371615: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:00:04.0, compute capability: 3.7)
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Using TensorFlow backend.
########################################################################################################################################################################################################
TRANSBOOST LAUNCH on 2018-02-23 20:12
########################################################################################################################################################################################################
Data has apparently already been downloaded and unpacked.
data_batch_1
data_batch_2
data_batch_3
data_batch_4
data_batch_5
test_batch



executed with the following settings:

layerLimit :  15
originalSize :  32
models_weights_path :  models_weights
epochs_source :  100
classes_target :  ['deer', 'horse']
times :  10
recompute_transfer_values :  False
resizeFactor :  5
batch_size_target :  10
step :  10
batch_size_source :  10
bigNet :  True
transformation_ratio :  0.05
proba_threshold :  0.5
lr_target :  0.0001
models_path :  models
lr_source :  0.0001
threshold :  0.65
path_to_best_model :  best_top_model.hdf5
train_top_model :  False
classes_source :  ['dog', 'truck']
reinitialize_bottom_layers :  False
epochs_target :  100




directory models exists already.
directory models_weights exists already.
Found 7953 images belonging to 2 classes.
Found 2047 images belonging to 2 classes.
Found 2047 images belonging to 2 classes.
Found 8026 images belonging to 2 classes.
Found 1974 images belonging to 2 classes.
Found 1974 images belonging to 2 classes.
reinitializing layer block1_conv1.kernel
reinitializing layer block1_conv1_bn.gamma
reinitializing layer block1_conv1_bn.beta
reinitializing layer block1_conv1_bn.moving_variance
reinitializing layer block1_conv1_bn.moving_mean
reinitializing layer block1_conv2.kernel
reinitializing layer block1_conv2_bn.gamma
reinitializing layer block1_conv2_bn.beta
reinitializing layer block1_conv2_bn.moving_variance
reinitializing layer block1_conv2_bn.moving_mean
reinitializing layer block2_sepconv1.pointwise_kernel
reinitializing layer block2_sepconv1.depthwise_kernel
reinitializing layer block2_sepconv1_bn.gamma
reinitializing layer block2_sepconv1_bn.beta
reinitializing layer block2_sepconv1_bn.moving_variance
reinitializing layer block2_sepconv1_bn.moving_mean
reinitializing layer block2_sepconv2.pointwise_kernel
reinitializing layer block2_sepconv2.depthwise_kernel
reinitializing layer block2_sepconv2_bn.gamma
reinitializing layer block2_sepconv2_bn.beta
reinitializing layer block2_sepconv2_bn.moving_variance
reinitializing layer block2_sepconv2_bn.moving_mean
reinitializing layer conv2d_1.kernel
reinitializing layer batch_normalization_1.gamma
reinitializing layer batch_normalization_1.beta
reinitializing layer batch_normalization_1.moving_variance
reinitializing layer batch_normalization_1.moving_mean
Traceback (most recent call last):
  File "boosting.py", line 673, in <module>
    main()
  File "boosting.py", line 662, in main
    model_list, _ , alpha_list, model_returned = batchBooster(full_model,x_train_target,y_train_target,x_val_target,y_val_target,x_test_target,y_test_target,params,**params)
  File "boosting.py", line 525, in batchBooster
    current_model = first_layers_reinitializer(current_model, layerLimit)
  File "boosting.py", line 289, in first_layers_reinitializer
    for layer in model.layers[:layerLimit]:
AttributeError: 'NoneType' object has no attribute 'layers'
2018-02-23 20:14:35.301347: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2018-02-23 20:14:35.396372: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:895] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2018-02-23 20:14:35.396751: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1105] Found device 0 with properties: 
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:00:04.0
totalMemory: 11.17GiB freeMemory: 11.09GiB
2018-02-23 20:14:35.396778: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1195] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:00:04.0, compute capability: 3.7)
/usr/local/lib/python3.5/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Using TensorFlow backend.
########################################################################################################################################################################################################
TRANSBOOST LAUNCH on 2018-02-23 20:14
########################################################################################################################################################################################################
Data has apparently already been downloaded and unpacked.
data_batch_1
data_batch_2
data_batch_3
data_batch_4
data_batch_5
test_batch



executed with the following settings:

recompute_transfer_values :  False
step :  10
models_path :  models
originalSize :  32
times :  10
train_top_model :  False
lr_target :  0.0001
threshold :  0.7
epochs_target :  100
batch_size_target :  10
classes_target :  ['deer', 'horse']
transformation_ratio :  0.05
layerLimit :  15
resizeFactor :  5
epochs_source :  100
classes_source :  ['dog', 'truck']
lr_source :  0.0001
reinitialize_bottom_layers :  False
models_weights_path :  models_weights
proba_threshold :  0.5
path_to_best_model :  best_top_model.hdf5
bigNet :  True
batch_size_source :  10




directory models exists already.
directory models_weights exists already.
Found 7953 images belonging to 2 classes.
Found 2047 images belonging to 2 classes.
Found 2047 images belonging to 2 classes.
Found 8026 images belonging to 2 classes.
Found 1974 images belonging to 2 classes.
Found 1974 images belonging to 2 classes.
reinitializing layer block1_conv1.kernel
reinitializing layer block1_conv1_bn.beta
reinitializing layer block1_conv1_bn.moving_variance
reinitializing layer block1_conv1_bn.moving_mean
reinitializing layer block1_conv1_bn.gamma
reinitializing layer block1_conv2.kernel
reinitializing layer block1_conv2_bn.beta
reinitializing layer block1_conv2_bn.moving_variance
reinitializing layer block1_conv2_bn.moving_mean
reinitializing layer block1_conv2_bn.gamma
reinitializing layer block2_sepconv1.pointwise_kernel
reinitializing layer block2_sepconv1.depthwise_kernel
reinitializing layer block2_sepconv1_bn.beta
reinitializing layer block2_sepconv1_bn.moving_variance
reinitializing layer block2_sepconv1_bn.moving_mean
reinitializing layer block2_sepconv1_bn.gamma
reinitializing layer block2_sepconv2.pointwise_kernel
reinitializing layer block2_sepconv2.depthwise_kernel
reinitializing layer block2_sepconv2_bn.beta
reinitializing layer block2_sepconv2_bn.moving_variance
reinitializing layer block2_sepconv2_bn.moving_mean
reinitializing layer block2_sepconv2_bn.gamma
reinitializing layer conv2d_1.kernel
reinitializing layer batch_normalization_1.beta
reinitializing layer batch_normalization_1.moving_variance
reinitializing layer batch_normalization_1.moving_mean
reinitializing layer batch_normalization_1.gamma
Traceback (most recent call last):
  File "boosting.py", line 673, in <module>
    main()
  File "boosting.py", line 662, in main
    model_list, _ , alpha_list, model_returned = batchBooster(full_model,x_train_target,y_train_target,x_val_target,y_val_target,x_test_target,y_test_target,params,**params)
  File "boosting.py", line 525, in batchBooster
    current_model = first_layers_reinitializer(current_model, layerLimit)
  File "boosting.py", line 289, in first_layers_reinitializer
    for layer in model.layers[:layerLimit]:
AttributeError: 'NoneType' object has no attribute 'layers'





calling next configuration










calling next configuration










calling next configuration










calling next configuration





